/* Base styles extracted from templates/base.html */
/* General layout and typography */
/* Enable smooth in-page scrolling for anchor links */
html { scroll-behavior: smooth; }

* { box-sizing: border-box }
body { font-family: Arial, sans-serif; padding: 20px;
    /* page background: use divots image as a single continuous background
       (no tiling). Use cover to scale the image to fill the viewport. */
    background-image: url('/media/products/divots_background.jpg'); /*Or golf cart?*/
    /*background-repeat: no-repeat;*/
    background-repeat: repeat;
    background-position: center top;
    background-attachment: fixed;
    /* subtle fallback color while image loads */
    /*background-size: cover;*/
    background-color: #f4f6f2;
}
nav a { margin-right: 10px; text-decoration: none; color: #333; font-size: 16px;}
nav a:hover { text-decoration: underline; }
.products { display: flex; flex-wrap: wrap; gap: 20px; margin-top: 20px; }
.product-card { padding: 10px; width: 200px; }
.product-card img { width: 100%; }
.product-card h2 { font-size: 18px; margin: 10px 0 5px; }
.product-card p { margin: 5px 0; }

.nav-container{
    width: 100%;
    position: sticky;
    box-shadow: 0 6px 22px rgba(15, 20, 25, 0.06);
}

.main-nav { display: flex; align-items: center; gap: 12px; flex-wrap: nowrap; /* make the nav full-bleed */ /* position: fixed; */ top: 0; left: 0; right: 0; width: 100%; background: #527a56; color: #fff; z-index: 1002; box-shadow: 0 2px 6px rgba(0,0,0,0.06); padding: 12px 20px; margin: 0; border-radius: 10px;}
.nav-left { display: flex; gap: 10px; flex-wrap: nowrap; overflow-x: auto; -webkit-overflow-scrolling: touch; min-width: 0; }
.nav-left a { text-decoration: none; color: #fff; white-space: nowrap; }
.nav-right { margin-left: auto; display: inline-flex; align-items: center; gap: 8px; flex: 0 0 auto; }
.nav-toggle { display: none; background: none; border: none; font-size: 20px; cursor: pointer; }
.cart-link { display: inline-flex; align-items: center; gap: 8px; color: #333; text-decoration: none; }
.cart-link svg { width: 20px; height: 20px; fill: none; stroke: #333; stroke-width: 1.5; }
.cart-badge { background: #e60023; color: white; border-radius: 999px; padding: 2px 7px; font-size: 12px; font-weight: 600; }
.cart-icon { width: 50px; height: 50px; object-fit: contain; display: inline-block; 
    /* render the PNG as a white icon for contrast against the green nav */
    filter: grayscale(1) brightness(0) invert(1);
}
.cart-text { margin-left: 4px; color: #fff; text-decoration: none; font-weight: 600; }
/* collapse/slide styles applied only when nav-left is made collapsible */
.nav-left.collapsible { overflow: hidden; max-height: 0; opacity: 0; transition: max-height .28s ease, opacity .2s; }
.main-nav.nav-open .nav-left.collapsible { max-height: 1000px; opacity: 1; }
/* When the collapsible nav is opened, allow overflow to be visible so
    absolutely-positioned dropdowns (like the Clubs menu) are not clipped. */
.main-nav.nav-open .nav-left.collapsible { overflow: visible; }

/* On small screens: hide links by default and use the hamburger */
@media (max-width: 600px) {
    .main-nav { flex-direction: column; align-items: stretch; padding-top: 12px; background: #527a56; }
    /* Absolutely position the cart area so it stays top-right and doesn't flow under stacked links */
    .nav-right { position: absolute; top: 12px; right: 12px; margin-left: 0; z-index: 1000; background: transparent; }
    /* Position the toggle on the left so it remains visible when nav-left is hidden */
    .nav-toggle { position: absolute; top: 12px; left: 12px; z-index: 1001; }
    /* Keep category links visible on mobile now that the hamburger was removed */
    .nav-left { display: flex; width: 100%; }
    .nav-left.open, .main-nav.nav-open .nav-left { display: flex; }
    .nav-left { gap: 6px; }
    .nav-left a { display: block; padding: 6px 0; }
    .nav-toggle { display: inline-flex; align-items: center; justify-content: center; padding: 6px; }
    /* give the cart area a little padding so icon/badge don't overlap stacked links */
    .nav-right a.cart-link { padding: 6px; background: rgba(255,255,255,0.9); border-radius: 6px; }
    .cart-text { display: none; color: #fff;}
}

/* Small utility: toast container default styles (JS may inject/override) */
#toast-container .toast { background: #222; color: #fff; padding: 10px 14px; border-radius: 6px; margin-bottom: 10px; opacity: .98; }

/* Decorative background band for the nav â€” fixed so it can extend full-bleed */
#nav-bg {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 64px; /* JS will override with computed value */
    background: #527a56;
    z-index: 1000; /* below the nav but above page background */
    transition: top .18s ease, height .18s ease;
}

/* Site brand icon used in the header/nav */
.site-icon { width: 32px; height: 32px; object-fit: cover; border-radius: 6px; display: inline-block; vertical-align: middle; }
.brand { display: inline-flex; align-items: center; margin-right: 8px; }

/* Use the golf club image as the hamburger/menu icon */
.nav-toggle { background: transparent; border: none; padding: 0; cursor: pointer; }
.nav-toggle { background: transparent; border: none; padding: 2px; cursor: pointer; overflow: hidden; border-radius: 10px; }
.nav-toggle-icon { width: 34px; height: 34px; object-fit: cover; display: block; border-radius: 10px; }
.nav-toggle[aria-expanded="true"] .nav-toggle-icon { transform: rotate(90deg); transition: transform .18s ease; }

/* Brand link styles */
.brand-link { display:inline-flex; align-items:center; gap:8px; text-decoration:none; }
.brand-icon { width:34px; height:34px; object-fit:cover; border-radius:10px; display:block; /* smooth hover/focus transition */ transition: transform .18s ease, filter .18s ease, box-shadow .18s ease; }

/* Hover and keyboard-focus affordance for the brand icon: subtle lift, brighten and shadow */
.brand-link:hover .brand-icon,
.brand-link:focus .brand-icon,
.brand-icon:focus-visible {
    transform: translateY(-2px) scale(1.06);
    filter: brightness(1.06) saturate(1.03);
    box-shadow: 0 6px 18px rgba(0,0,0,0.12);
}

/* Center title in navbar */
.nav-center {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    color: #fff;
    font-weight: 900;
    font-size: 32px;
    letter-spacing: 0.5px;
    white-space: nowrap;
    text-transform: none;
    z-index: 1003;
    pointer-events: none; /* non-interactive; brand icon still links */
    max-width: 60%;
    text-align: center;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Animate the centered title on page entry: fade + slight upward motion */
@keyframes navCenterFadeIn {
    from { opacity: 0; transform: translateX(-50%) translateY(6px); }
    to   { opacity: 1; transform: translateX(-50%) translateY(0); }
}

.nav-center {
    opacity: 0; /* start hidden then animate */
    /* slower fade-in: 1.2s duration with 300ms initial delay */
    animation: navCenterFadeIn 1200ms cubic-bezier(.2,.9,.2,1) 300ms forwards;
}

/* Honor user preference for reduced motion */
@media (prefers-reduced-motion: reduce) {
    .nav-center { animation: none; opacity: 1; transform: translateX(-50%) translateY(0); }
}

/* Decorative flag icon appended to the centered title */
.nav-center-flag {
    width: 50px; /* match cart icon size */
    height: 50px;
    margin-left: -12px; /* bring the flag closer to the text */
    vertical-align: middle;
    display: inline-block;
    /* render the flag as black for contrast against white/green backgrounds */
    filter: grayscale(1) brightness(0);
    pointer-events: none;
}

@media (max-width: 900px) {
    .nav-center-flag { width: 44px; height: 44px; margin-left: 6px; }
}

/* Slightly smaller on narrow screens to avoid overlap */
@media (max-width: 900px) {
    .nav-center { font-size: 26px; max-width: 56%; }
}

@media (max-width: 600px) {
    .nav-center { font-size: 20px; max-width: 52%; }
}

/* Clubs dropdown */
.nav-item { position: relative; }
.nav-item .nav-link { color: #fff; text-decoration: none; padding: 6px 8px; display:inline-flex; align-items:center; gap:6px; }
.nav-item .caret { font-size: 12px; opacity: .9; }
.nav-item .dropdown {
    position: absolute;
    /* sit flush below the trigger element to avoid pointer gaps */
    top: 100%;
    left: 0;
    background: #fff;
    color: #111;
    min-width: 180px;
    border-radius: 8px;
    box-shadow: 0 8px 20px rgba(11,12,15,0.08);
    /* provide a small inner offset so the dropdown doesn't visually touch the trigger
       while still ensuring there is no hover gap between trigger and dropdown */
    padding: 10px 0 8px 0;
    display: flex; /* absolute dropdown doesn't affect layout */
    flex-direction: column;
    z-index: 1200;
    /* start hidden for desktop, animated via opacity/transform */
    visibility: hidden;
    opacity: 0;
    transform: translateY(-6px);
    transition: opacity .18s ease, transform .18s ease, visibility 0s linear .18s;
    pointer-events: none;
}
.nav-item .dropdown a { color: #111; padding: 10px 14px; display:block; text-decoration:none; }
.nav-item .dropdown a:hover { background: rgba(0,0,0,0.03); }

/* show dropdown on hover for desktop with a tiny fade+slide */
@media (min-width: 601px) {
    .nav-item.has-dropdown:hover .dropdown {
        visibility: visible;
        opacity: 1;
        transform: translateY(0);
        transition-delay: 0s;
        pointer-events: auto;
    }
}

/* on small screens, make dropdown part of the flow when nav-left is opened */
@media (max-width: 600px) {
    /* Mobile: keep dropdown part of the flow and toggle via display to avoid layout surprises */
    .nav-item .dropdown { position: static; box-shadow: none; background: transparent; padding: 0; display: none; visibility: visible; opacity: 1; transform: none; pointer-events: auto; transition: none; }
    .nav-item.open .dropdown { display: flex; flex-direction: column; }
    .nav-item .dropdown a { padding-left: 12px; }
}

/* style hamburger glyph */
.nav-toggle .hamburger { font-size: 20px; line-height: 1; color: #fff; }

/* Ensure page content sits below the nav with a small visual gap.
   Uses the --nav-height variable maintained by JS; falls back to 64px. */
main, .page-content {
    margin-top: 1%;
}

/* Ensure anchor targets (like #categories) don't get hidden behind the sticky nav.
   Uses --nav-height if JS sets it; falls back to 64px. */
#categories {
    scroll-margin-top: calc(var(--nav-height, 64px) + 8px);
}

/* Hide the textual 'My Cart' link at and below 1070px so the header stays compact.
   Keep the cart icon visible for access to the cart. */
@media (max-width: 1070px) {
    .cart-text { display: none; }
}
