<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}The Clubhouse{% endblock %}</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'store/css/base.css' %}">
    <link rel="icon" href="{% static 'store/images/golf_club_icon.jpg' %}" type="image/jpeg">
    {% block extra_css %}{% endblock %}
</head>
<body>

    <!-- Navigation -->
    <div class="nav-container">
    <nav class="main-nav">
        <!-- Brand: clicking the club icon goes to homepage (not a hamburger) -->
        <a href="{% url 'homepage' %}" class="brand-link" aria-label="Homepage">
            <img src="{% static 'store/images/golf_club_icon.jpg' %}" alt="Refurbished Golf" class="brand-icon">
        </a>

        <!-- Hamburger toggle kept for small screens: preserved class so global.js still finds it -->
        <button class="nav-toggle" aria-label="Toggle menu" aria-expanded="false">
            <span class="hamburger" aria-hidden="true">☰</span>
        </button>

        
            <div class="nav-item has-dropdown">
                <a href="#" class="nav-link">Clubs <span class="caret">▾</span></a>
                <div class="dropdown" aria-hidden="true">
                    <a href="{% url 'product_category' 'driver' %}">Drivers</a>
                    <a href="{% url 'product_category' 'wood' %}">Woods</a>
                    <a href="{% url 'product_category' 'hybrid' %}">Hybrids</a>
                    <a href="{% url 'product_category' 'iron' %}">Irons</a>
                    <a href="{% url 'product_category' 'wedge' %}">Wedges</a>
                    <a href="{% url 'product_category' 'putter' %}">Putters</a>
                </div>
            </div>
        
        <div class="nav-right">
            <a class="cart-text" href="{% url 'cart' %}">My Cart</a>
            <a class="cart-link" href="{% url 'cart' %}" aria-label="View cart">
                <!-- golf flag icon instead of cart SVG -->
                <span class="cart-badge">{{ cart_item_count }}</span>
                <img src="{% static 'store/images/golf-flag-icon-removebg-preview.png' %}" alt="Cart" class="cart-icon" />
            </a>
            {% if user.is_authenticated %}
                <span class="nav-user">Hi, {{ user.username }}</span>
                <form method="post" action="{% url 'logout' %}" style="display:inline">
                    {% csrf_token %}
                    <button type="submit" class="nav-logout">Logout</button>
                </form>
            {% else %}
                <a href="{% url 'login' %}">Login</a>
                <a href="{% url 'register' %}">Register</a>
            {% endif %}
        </div>
    </nav>
    </div>

    

    <!-- Page Content -->
    {% block content %}{% endblock %}

    <!-- Toast container -->
    <div id="toast-container" aria-live="polite" style="position:fixed;top:16px;right:16px;z-index:9999;"></div>

    <script src="{% static 'store/js/global.js' %}" defer></script>

    {% block extra_scripts %}{% endblock %}

    <script src="{% static 'store/js/base-fallback.js' %}" defer></script>

</body>
</html>
